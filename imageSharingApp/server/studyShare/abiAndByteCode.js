import fs from 'fs';
import solc from 'solc';
import path from 'path';

const input = fs.readFileSync(path.resolve('../../../../../../.') + '/contracts/StudyShare.sol');
const output = solc.compile(input.toString(), 1);
var byteCode = '0x' + output.contracts['StudyShare'].bytecode;
var abi = JSON.parse(output.contracts['StudyShare'].interface);


/*var abi = [
  {"constant":true,"inputs":[],"name":"url","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},
  {"constant":true,"inputs":[],"name":"recipient","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},
  {"constant":true,"inputs":[],"name":"sender","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},
  {"inputs":[{"name":"_recipient","type":"address"},{"name":"_url","type":"string"}],"payable":false,"type":"constructor"}
];
var byeCode = "0x60606040523461000057604051610403380380610403833981016040528080519060200190919080518201919050505b33600060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508060029080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100fd57805160ff191683800117855561012b565b8280016001018555821561012b579182015b8281111561012a57825182559160200191906001019061010f565b5b50905061015091905b8082111561014c576000816000905550600101610134565b5090565b50505b50505b61029e806101656000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680635600f04f1461005457806366d003ac146100ea57806367e404ce14610139575b610000565b3461000057610061610188565b60405180806020018281038252838181518152602001915080519060200190808383600083146100b0575b8051825260208311156100b05760208201915060208101905060208303925061008c565b505050905090810190601f1680156100dc5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34610000576100f7610226565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b346100005761014661024c565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b60028054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561021e5780601f106101f35761010080835404028352916020019161021e565b820191906000526020600020905b81548152906001019060200180831161020157829003601f168201915b505050505081565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16815600a165627a7a72305820e9c89cd1d5e5ce8d0d1f6e6f916daf2ac3badd2438a86526dd2f8296042e701f0029";
*/


export default {
  abi: abi,
  byteCode: byteCode
};
